<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Not Fight Club - Vladyslav Ivankov</title>
  <link rel="stylesheet" href="style.css">
  <script src="js.js" type="text/javascript"></script>
  <script>
  </script>
</head>
<body>
    <header>
        <section id="header" class="header">
            <div class="currentSection">
                <p>Settings</p>
            </div>
            <div class="menu">
                <a href="./fight.html">
                    <img class="logoHome" src="./assets/svg/home.svg" alt="logoHome">
                </a>
                <a href="./character.html">
                    <img class="logoCharacter" src="./assets/svg/character.svg" alt="logoCharacter">
                </a>
                <a href="./settings.html">
                    <img class="logoSettings" src="./assets/svg/settings.svg" alt="logoSettings">
                </a>
            </div>
        </section>
    </header>
    <main>
        <section id="settings" class="settings">
            <div>
                Player Name: <span id="nickname"></span>
                <button onclick="openPopupNick()">Edit</button>
            </div> 
            <div id="overlay" class="overlay">
                <div class="popup">
                    <button onclick="closePopupNick()">Close</button>
                    <div class="nickPopup">
                        <input type="text" id="username"><br><br>
                        <button onclick="changeName()">Change Name</button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script>
        function openPopupNick() {
            document.getElementById("overlay").style.display = "flex";

        }
        
        function closePopupNick() {
            document.getElementById("overlay").style.display = "none";
        }

        function changeName() {
            localStorage.removeItem("username");
            const name = document.getElementById("username").value.trim();
            if (name) {
                localStorage.setItem("username", name);
                window.location.href = "settings.html";
            } else {
                alert("Please, enter your name!");
            }
        }
    </script>
</body>
</html>
